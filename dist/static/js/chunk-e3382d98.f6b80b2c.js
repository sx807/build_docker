(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3382d98"],{2356:function(t,e,a){},"7ab9":function(t,e,a){},"7b58":function(t,e,a){"use strict";var n=a("7ab9"),o=a.n(n);o.a},ac37:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,offset:1}},[a("el-select",{attrs:{filterable:"",placeholder:"选择内核版本"},on:{change:t.ver_change},model:{value:t.config_graph.ver,callback:function(e){t.$set(t.config_graph,"ver",e)},expression:"config_graph.ver"}},t._l(t.ver_list,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入源路径"},on:{change:function(e){return t.path_change("sou")}},model:{value:t.path1,callback:function(e){t.path1=e},expression:"path1"}},t._l(t.path_list,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入目标路径"},on:{change:function(e){return t.path_change("tar")}},model:{value:t.path2,callback:function(e){t.path2=e},expression:"path2"}},t._l(t.path_list,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:9}},[a("label",{staticClass:"radio-label"},[t._v("Layout:  ")]),t._v(" "),a("el-select",{staticStyle:{width:"120px"},on:{change:t.layout_change},model:{value:t.G_layout,callback:function(e){t.G_layout=e},expression:"G_layout"}},t._l(t.G_layout_options,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{offset:1}},[a("span",[t._v(t._s(t.web_url()))])])],1),t._v(" "),a("grid-layout",{attrs:{layout:t.web_layout,"col-num":12,"row-height":100,"is-draggable":!0,"is-resizable":!0,"vertical-compact":!0,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(e){t.web_layout=e}}},[t.show_graph()?a("grid-item",{attrs:{x:t.web_layout[0].x,y:t.web_layout[0].y,w:t.web_layout[0].w,"min-w":6,"max-w":12,h:t.web_layout[0].h,"min-h":5,"max-h":6,i:t.web_layout[0].i,"is-draggable":!1},on:{resized:t.resizedGraphEvent}},[a("Graph",{attrs:{layout:t.G_layout,config:t.config_graph,ex_data:t.web_data}})],1):t._e(),t._v(" "),a("grid-item",{directives:[{name:"show",rawName:"v-show",value:t.funlist_show,expression:"funlist_show"}],attrs:{x:t.web_layout[1].x,y:t.web_layout[1].y,w:t.web_layout[1].w,"min-w":3,"max-w":12,h:t.web_layout[1].h,"min-h":5,"max-h":5,i:t.web_layout[1].i}},[a("FunList",{attrs:{config:t.config_funlist}})],1)],1)],1)},o=[],r=(a("28a5"),a("6b54"),a("20d6"),a("ac6a"),a("456d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},t._l(t.sel,(function(e,n){return a("el-col",{key:n,attrs:{span:3,offset:1}},[a("el-switch",{attrs:{"active-text":e.label},on:{change:function(e){return t.select_edge()}},model:{value:t.sel[n].value,callback:function(e){t.$set(t.sel[n],"value",e)},expression:"sel[key].value"}})],1)})),1),t._v(" "),a("ContextMenu"),t._v(" "),a("div",{ref:"graphChart",staticClass:"graphChart",staticStyle:{height:"100%",width:"100%"},attrs:{id:"graphChart"}}),t._v(" "),a("el-dialog",{attrs:{title:"分享链接",modal:!1,visible:t.share_dialog,"before-close":t.handleClose},on:{"update:visible":function(e){t.share_dialog=e}}},[a("span",[t._v(t._s(t.share_url))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.share_dialog=!1}}},[t._v("确 定")])],1)])],1)}),l=[],s=(a("ac4d"),a("8a81"),a("07cd")),i=a.n(s),u=a("1aef"),c=a.n(u),h=a("bc3a"),g=a.n(h),p=a("5c96"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"context-menu",style:t.contextMenuStyle},t._l(t.contextMenuList,(function(e,n){return a("li",{key:n,on:{click:function(a){return t.doChick(e)}}},[t._v(t._s(e.label))])})),0)])},f=[],_={name:"ContextMenu",data:function(){return{isShow:!1,type:"",options:null,contextMenuList:[],contextMenuStyle:{}}},created:function(){var t=this;t.$EventBus.bus.$on("graph/contextmenu/open",t.doShow),t.$EventBus.bus.$on("graph/contextmenu/close",t.doHide)},destroyed:function(){var t=this;t.$EventBus.bus.$off("graph/contextmenu/open"),t.$EventBus.bus.$off("graph/contextmenu/close")},methods:{handleContextMenuList:function(t){var e="";console.log(t),e=t?t.getType():"canvas";var a=[{value:"Code",label:"显示源码"},{value:"SetSou",label:"设为源路径"},{value:"SetTar",label:"设为目标路径"},{value:"Expand",label:"展开下一级"},{value:"Delete",label:"删除节点"}],n=[{value:"Back",label:"后退"},{value:"FunList",label:"显示函数列表"},{value:"Graph",label:"切换调用图"},{value:"Inside",label:"切换内部调用图"}],o=[{value:"Post",label:"分享此图"},{value:"Back",label:"后退"}];this.contextMenuList="node"===e?a:"edge"===e?n:o},handleContextMenuStyle:function(){var t=this,e={};if(!t.options)return e;e["left"]="".concat(t.options.canvasX,"px"),e["top"]="".concat(t.options.canvasY+20,"px"),t.contextMenuStyle=e},doChick:function(t){var e=this;console.log(t);var a={},n=e.options.item;switch(t.value){case"Code":e.$EventBus.bus.$emit("code/show",n.getModel().id,0);break;case"SetSou":a.sou=n.getModel().id;break;case"SetTar":a.tar=n.getModel().id;break;case"Delete":e.$EventBus.bus.$emit("graph/delete",n);break;case"Expand":e.$EventBus.bus.$emit("graph/expand",n);break;case"FunList":e.$EventBus.bus.$emit("funlist/show",n.getModel());break;case"Inside":e.$EventBus.bus.$emit("graph/options",{per:!1});case"Graph":a.sou=n.getModel().source,a.tar=n.getModel().target;break;case"Back":e.$EventBus.bus.$emit("graph/back",n);break;case"Post":e.$EventBus.bus.$emit("graph/post");break}Object.keys(a).length>0&&e.$EventBus.bus.$emit("graph/path/change",a),e.doHide()},doShow:function(t){var e=this;e.options=t,console.log(e.options),e.handleContextMenuList(e.options.item),e.handleContextMenuStyle(),e.isShow=!0},doHide:function(){var t=this;t.options=null,t.contextMenuList=[],t.isShow=!1}}},v=_,b=(a("7b58"),a("2877")),y=Object(b["a"])(v,d,f,!1,null,"1e3cc3fd",null),m=y.exports,w=a("027f"),x=["#BDD2FD","#BDEFDB","#C2C8D5","#FBE5A2","#F6C3B7","#B6E3F5","#D3C6EA","#FFD8B8","#AAD8D8","#FFD6E7"],$=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"];c()("\n  .g6-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }");var k={name:"Graph",components:{ContextMenu:m},props:{id:{type:String,default:"chart"},layout:{type:String,default:"random"},config:{type:Object,default:function(){return{var:"",sou:"",tar:"",w:1e3,h:500}}},ex_data:{type:Object,default:function(){return{}}}},data:function(){return{url:"http://192.168.3.100:7001/api/v1/graphs",graph:null,minimap:null,graph_id:"",options:{},backup_data:{id:"",layout:"",data:{},config:{}},data:{nodes:[],edges:[],groups:[]},graph_w:1e3,graph_h:500,sel:{s_to_t:{value:!0,label:"sou -> tar"},t_to_s:{value:!0,label:"tar -> sou"},s_to_s:{value:!0,label:"sou -> sou"},t_to_t:{value:!0,label:"tar -> tar"},o_to:{value:!0,label:"other ->"},to_o:{value:!0,label:"-> other"}},contextMenuStyle:{},share_dialog:!1,share_url:""}},watch:{config:{handler:function(t,e){var a=this;console.log("watch config",t),t.h!==a.graph_h||t.w!==a.graph_w?(a.graph_h=t.h,a.graph_w=t.w,a.graph.changeSize(a.graph_w,a.graph_h),a.graph.fitView(),console.log(a.graph.get("width"),a.graph.get("height"))):(a.backup(),a.get_data("new")),a.graph_config=t},deep:!0},layout:function(t){this.updateLayout(t)}},created:function(){var t=this;if(t.$EventBus.bus.$on("graph/delete",t.delete_node),t.$EventBus.bus.$on("graph/expand",t.expand_node),t.$EventBus.bus.$on("graph/layout",t.updateLayout),t.$EventBus.bus.$on("graph/options",t.setOptions),t.$EventBus.bus.$on("graph/back",t.back_graph),t.$EventBus.bus.$on("graph/post",t.save_graph),t.$route.query.hasOwnProperty("not_sel")){var e=t.$route.query.not_sel.toString().split(","),a=!0,n=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var s=r.value;console.log(s),t.sel[s].value=!1}}catch(i){n=!0,o=i}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}}},destroyed:function(){var t=this;t.$EventBus.bus.$off("graph/delete"),t.$EventBus.bus.$off("graph/expand"),t.$EventBus.bus.$off("graph/layout"),t.$EventBus.bus.$off("graph/option"),t.$EventBus.bus.$off("graph/back"),t.$EventBus.bus.$off("graph/post")},mounted:function(){var t=this;t.graph_config=t.config,t.initChart(),t.config.ex?t.get_data("external"):t.get_data("new")},methods:{initChart:function(){var t=this,e=this;e.minimap=new w({size:[200,100],className:"minimap",type:"keyShape"}),e.graph=new i.a.Graph({container:"graphChart",graph_config:{},width:e.graph_w,height:e.graph_h,fitView:!0,autoPaint:!0,animate:!1,minZoom:.5,maxZoom:3,plugins:[e.minimap],modes:{default:["drag-canvas","zoom-canvas","drag-node",{type:"tooltip",formatText:function(t){return t.id}},{type:"edge-tooltip",formatText:function(t){return"调用次数："+t.sourceWeight+"<br/>来源："+t.source+"<br/>去向："+t.target}}]},layout:{type:e.layout},defaultNode:{shape:"ellipse",size:[30,15],color:"steelblue",labelCfg:{style:{fill:"#787878",fontSize:12}}},defaultEdge:{shape:"quadratic",size:2},nodeStateStyles:{default:{lineWidth:1,fill:"steelblue"},highlight:{opacity:1},dark:{opacity:.2}},edgeStateStyles:{default:{opacity:.2,lineAppendWidth:3},highlight:{opacity:1}}}),e.graph.on("node:mouseenter",(function(t){var a=t.item;e.graph.setAutoPaint(!1),e.graph.getNodes().forEach((function(t){e.graph.clearItemStates(t),e.graph.setItemState(t,"dark",!0)})),e.graph.setItemState(a,"dark",!1),e.graph.setItemState(a,"highlight",!0),e.graph.getEdges().forEach((function(t){t.getSource()===a?(e.graph.setItemState(t.getTarget(),"dark",!1),e.graph.setItemState(t.getTarget(),"highlight",!0),e.graph.setItemState(t,"highlight",!0),t.toFront()):t.getTarget()===a?(e.graph.setItemState(t.getSource(),"dark",!1),e.graph.setItemState(t.getSource(),"highlight",!0),e.graph.setItemState(t,"highlight",!0),t.toFront()):e.graph.setItemState(t,"highlight",!1)})),e.graph.paint(),e.graph.setAutoPaint(!0)})),e.graph.on("edge:mouseenter",(function(t){var a=t.item;e.graph.setAutoPaint(!1),e.graph.getNodes().forEach((function(t){e.graph.clearItemStates(t),e.graph.setItemState(t,"dark",!0)})),e.graph.setItemState(a,"highlight",!0),e.graph.setItemState(a.getTarget(),"dark",!1),e.graph.setItemState(a.getTarget(),"highlight",!0),e.graph.setItemState(a.getSource(),"dark",!1),e.graph.setItemState(a.getSource(),"highlight",!0),e.graph.paint(),e.graph.setAutoPaint(!0)})),e.graph.on("node:mouseleave",e.clearAllStats),e.graph.on("edge:mouseleave",e.clearAllStats),e.graph.on("node:contextmenu",(function(e){console.log(e.item.getBBox()),t.$EventBus.bus.$emit("graph/contextmenu/open",e)})),e.graph.on("edge:contextmenu",(function(e){t.$EventBus.bus.$emit("graph/contextmenu/open",e)})),e.graph.on("canvas:contextmenu",(function(e){t.$EventBus.bus.$emit("graph/contextmenu/open",e)})),e.graph.on("canvas:click",(function(){e.clearAllStats(),e.$EventBus.bus.$emit("graph/contextmenu/close")}))},clearAllStats:function(){var t=this;t.graph.setAutoPaint(!1),t.graph.getNodes().forEach((function(e){t.graph.clearItemStates(e)})),t.graph.getEdges().forEach((function(e){t.graph.clearItemStates(e)})),t.graph.paint(),t.graph.setAutoPaint(!0)},setOptions:function(t){for(var e=Object.keys(t),a=0,n=e;a<n.length;a++){var o=n[a];this.options[o]=t[o]}},get_data:function(t){var e=this,a=p["Loading"].service({target:"#graphChart"}),n={version:e.config.ver,source:e.config.sou,target:e.config.tar};for(var o in e.options)n[o]=e.options[o];if("external"===t){var r=e.handle_data(e.ex_data);e.data=JSON.parse(JSON.stringify(r)),e.graph.setAutoPaint(!1),e.graph.changeData({nodes:e.data.nodes,edges:e.data.edges});var l=!0,s=!1,i=void 0;try{for(var u,c=r.nodes[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var h=u.value;e.graph.updateItem(h.id,{x:h.x,y:h.y})}}catch(d){s=!0,i=d}finally{try{l||null==c.return||c.return()}finally{if(s)throw i}}e.clearAllStats(),e.graph.paint(),e.graph.setAutoPaint(!0),e.graph.fitView(),a.close()}else g.a.get(e.url,{params:n,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(n){if(n.data.nodes.length>0){e.graph_id=n.data.id;var o=e.handle_data(n.data);"new"===t&&(e.data=o),"add"===t&&(e.data.nodes=e.data.nodes.concat(o.nodes),e.data.edges=e.data.edges.concat(o.edges),console.log(e.data.nodes)),e.graph.data({nodes:e.data.nodes,edges:e.data.edges}),e.options={},e.graph.render(),e.graph.fitView(),e.select_edge()}a.close()})).catch((function(t){console.log(t)}))},handle_data:function(t){return t.nodes.map((function(t){t.label=t.id,t.style||(t.style={}),t.style.fill=x[t.type%x.length],t.style.stroke=$[t.type%$.length]})),t.edges.map((function(t){t.style||(t.style={}),t.style.stroke=$[t.type%$.length]})),t},select_edge:function(){var t=this;t.graph.setAutoPaint(!1),t.graph.getEdges().forEach((function(e){var a=!0;2===e.getSource().getModel().type&&2===e.getTarget().getModel().type?a=t.sel["o_to"].value&&t.sel["to_o"].value:2===e.getSource().getModel().type?a=t.sel["o_to"].value:2===e.getTarget().getModel().type?a=t.sel["to_o"].value:0===e.getSource().getModel().type&&1===e.getTarget().getModel().type?a=t.sel["s_to_t"].value:1===e.getSource().getModel().type&&0===e.getTarget().getModel().type?a=t.sel["t_to_s"].value:0===e.getSource().getModel().type&&0===e.getTarget().getModel().type?a=t.sel["s_to_s"].value:1===e.getSource().getModel().type&&1===e.getTarget().getModel().type&&(a=t.sel["t_to_t"].value),a?t.graph.showItem(e):t.graph.hideItem(e)})),t.$EventBus.bus.$emit("graph/sel/to_url",t.sel),t.graph.paint(),t.graph.setAutoPaint(!0)},backup:function(){var t=this;t.backup_data.id=t.graph_id,t.backup_data.layout=t.layout,t.backup_data.config=t.graph_config,t.backup_data.data=t.graph.save()},back_graph:function(t){var e=this;if(Object.keys(e.backup_data.data).length>0){e.graph.setAutoPaint(!1),e.graph.changeData({nodes:e.backup_data.data.nodes,edges:e.backup_data.data.edges});var a=e.backup_data.data.nodes,n=!0,o=!1,r=void 0;try{for(var l,s=a[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var i=l.value,u=e.graph.findById(i.id);e.graph.updateItem(u,i)}}catch(c){o=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}e.clearAllStats(),e.graph.paint(),e.graph.setAutoPaint(!0)}},save_graph:function(){var t=this,e={version:t.config.ver,source:t.config.sou,target:t.config.tar},a=t.graph.save(),n={nodes:[],edges:[]},o=!0,r=!1,l=void 0;try{for(var s,i=a.nodes[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value,c={};c.id=u.id,c.type=u.type,c.x=Math.floor(u.x),c.y=Math.floor(u.y),n.nodes.push(c)}}catch(y){r=!0,l=y}finally{try{o||null==i.return||i.return()}finally{if(r)throw l}}var h=!0,p=!1,d=void 0;try{for(var f,_=a.edges[Symbol.iterator]();!(h=(f=_.next()).done);h=!0){var v=f.value,b={};b.source=v.source,b.target=v.target,b.sourceWeight=v.sourceWeight,b.type=v.type,n.edges.push(b)}}catch(y){p=!0,d=y}finally{try{h||null==_.return||_.return()}finally{if(p)throw d}}g.a.post(t.url,{config:e,data:n},{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){console.log(e.data),t.share_url=window.location.href+"/"+e.data.share_key,t.share_dialog=!0})).catch((function(t){console.log(t)}))},delete_node:function(t){var e=this;e.graph.removeItem(t),e.clearAllStats()},expand_node:function(t){var e=this,a=t.getModel().id,n=[],o=e.data.nodes.findIndex((function(t){return t.id===a}));e.data.nodes.splice(o,1),console.log(e.data.nodes);var r=!0,l=!1,s=void 0;try{for(var i,u=e.data.edges[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;c.source!==a&&c.target!==a&&n.push(c)}}catch(h){l=!0,s=h}finally{try{r||null==u.return||u.return()}finally{if(l)throw s}}e.data.edges=n,e.setOptions({id:e.graph_id,expand:a}),e.get_data("add")},updateLayout:function(t){var e=this;console.log(e.layout),e.graph.updateLayout({width:1200,height:600,type:t,preventOverlap:!0,nodeSize:50,linkDistance:50})},share_copy:function(t){this.$alert(t,"分享链接",{confirmButtonText:"确定"})},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))}}},S=k,E=(a("ca61"),Object(b["a"])(S,r,l,!1,null,null,null)),B=E.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data.list,"default-sort":{prop:"s_fun",order:"descending"},"max-height":"500"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"s_fun",label:"源函数",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"s_file",label:"所在文件"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row,"s_file",0)}}},[t._v("\n        "+t._s(e.row.s_file)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"s_line",label:"行号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row,"s_line",e.row.s_line)}}},[t._v("\n        "+t._s(e.row.s_line)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"调用次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"call_line",label:"调用行号"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.call_line,(function(n){return a("el-button",{key:n,attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row,"call",e.row.call_line)}}},[t._v("\n        "+t._s(n)+"\n      ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"t_fun",label:"被调函数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"t_file",label:"所在文件"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row,"t_file",0)}}},[t._v("\n        "+t._s(e.row.t_file)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"t_line",label:"行号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row,"t_line",e.row.t_line)}}},[t._v("\n        "+t._s(e.row.t_line)+"\n      ")])]}}])})],1)},M=[],I={name:"FunList",props:{id:{type:String,default:"chart"},config:{type:Object,default:function(){return{var:"",sou:"",tar:""}}}},data:function(){return{url:"http://192.168.3.100:7001/api/v1/functions",table_id:"",options:{},height:500,loading:!1,data:{list:[]}}},watch:{config:{handler:function(t){console.log(t),this.getdata()},deep:!0}},methods:{getdata:function(){var t=this;t.loading=!0;var e={version:t.config.ver,source:t.config.sou,target:t.config.tar};for(var a in t.options)e[a]=t.options[a];g.a.get(t.url,{params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log(e.data),e.data.list.length>0&&(t.table_id=e.data.id,t.data=e.data,t.options={},t.loading=!1)})).catch((function(t){console.log(t)}))},handleClick:function(t,e,a){var n=this,o="",r=a;switch(e){case"call":case"s_line":case"s_file":o=t.s_file;break;case"t_line":case"t_file":o=t.t_file;break}n.$EventBus.bus.$emit("code/show","/"+o,r)}}},A=I,F=Object(b["a"])(A,C,M,!1,null,"bacda128",null),T=F.exports,D=a("7be8"),O=a.n(D),G={name:"GraphChart",components:{GridLayout:O.a.GridLayout,GridItem:O.a.GridItem,Graph:B,FunList:T},data:function(){return{url:"http://192.168.3.100:7001/api/v1",ver_list:[],path1:"",path2:"",web_data:{},config_graph:{ver:"",sou:"",tar:"",ex:!1,w:1e3,h:500},g_not_sel:[],config_funlist:{ver:"",sou:"",tar:""},funlist_show:!1,show:!1,path_list:[],web_layout:[{x:0,y:0,w:12,h:5,i:"0"},{x:0,y:1,w:12,h:5,i:"1"}],G_layout:"random",G_layout_options:["random","dagre","force","circular","concentric","grid"]}},created:function(){var t=this;t.$EventBus.bus.$on("graph/sel/to_url",t.set_g_sel),t.$EventBus.bus.$on("graph/path/change",t.setPath),t.$EventBus.bus.$on("funlist/show",t.show_funlist),t.$EventBus.bus.$on("code/show",t.show_code),t.get_ver_list(),t.$route.params.hasOwnProperty("pathMatch")&&t.get_data(this.$route.params.pathMatch),Object.keys(t.$route.query).length>0&&t.set_by_url(t.$route.query)},destroyed:function(){var t=this;t.$EventBus.bus.$off("graph/path/change"),t.$EventBus.bus.$off("funlist/show"),t.$EventBus.bus.$off("code/show")},mounted:function(){},methods:{ver_change:function(){this.get_path_list()},layout_change:function(){var t=this;console.log(t.G_layout)},setPath:function(t){var e=this;t.disable||(t.sou&&(this.path1=t.sou),t.tar&&(this.path2=t.tar),e.path_change("both"))},path_change:function(t){var e=this.config_graph;switch(t){case"sou":e.sou=this.path1;break;case"tar":e.tar=this.path2;break;case"both":e.sou=this.path1,e.tar=this.path2;break}this.config_graph=e},show_graph:function(){return""!==this.config_graph.ver&&""!==this.config_graph.sou&&""!==this.config_graph.tar},show_funlist:function(t){var e=this;console.log("showlist",t),e.funlist_show=!0,e.config_funlist={ver:e.config_graph.ver,sou:t.source,tar:t.target}},show_code:function(t,e){var a=this;console.log("showcode",t,e);var n=a.ver_list[a.ver_list.findIndex((function(t){return t.value===a.config_graph.ver}))],o="https://elixir.bootlin.com/linux/v"+n.label,r=t.indexOf(".");r>0&&r<t.length-3?o+="/ident"+t.slice(t.lastIndexOf("/")):o+=e>0?"/source"+t+"#L"+e.toString():"/source"+t,window.open(o)},get_ver_list:function(){var t=this,e=t.url+"/options";g.a.get(e,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log(e.data),e.data.length>0&&(t.ver_list=e.data)})).catch((function(t){console.log(t)}))},get_path_list:function(){var t=this,e=t.url+"/options/"+t.config_graph.ver;g.a.get(e,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log(e.data),e.data.length>0&&(t.path_list=e.data.map((function(t){return{value:t}}))),t.path_list.unshift({value:"/"})})).catch((function(t){console.log(t)}))},resizedGraphEvent:function(t,e,a,n,o){this.config_graph.h=Math.floor(n-40),this.config_graph.w=Math.floor(o)},get_data:function(t){var e=this,a="http://192.168.3.44:7001/api/v1/graphs/"+t;g.a.get(a,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log(t.data),Object.keys(t.data).length>0&&e.set_web_data(t.data)})).catch((function(t){console.log(t)}))},set_g_sel:function(t){var e=this;for(var a in e.g_not_sel=[],t)t[a].value||e.g_not_sel.push(a)},set_web_data:function(t){var e=this;e.web_data=t.data,console.log("set",t.data);var a={};a.ver=t.config.version,a.sou=t.config.source,a.tar=t.config.target,a.ex=!0,a.w=e.config_graph.w,a.h=e.config_graph.h,e.config_graph=a,e.path1=a.sou,e.path2=a.tar},set_by_url:function(t){var e=this;t.ver&&(e.config_graph.ver=e.$route.query.ver,this.get_path_list()),t.sou&&(e.config_graph.sou=e.$route.query.sou,e.path1=e.$route.query.sou),t.tar&&(e.config_graph.tar=e.$route.query.tar,e.path2=e.$route.query.tar)},web_url:function(){var t=this,e={},a=window.location.href.toString().split("?")[0]+"?";for(var n in""!==t.config_graph.ver&&(e["ver"]=t.config_graph.ver),""!==t.config_graph.sou&&(e["sou"]=t.config_graph.sou),""!==t.config_graph.tar&&(e["tar"]=t.config_graph.tar),t.g_not_sel.length>0&&(e["not_sel"]=t.g_not_sel.toString()),e)a+=n+"="+e[n]+"&";return a.slice(0,-1)}}},L=G,P=(a("c2e8"),Object(b["a"])(L,n,o,!1,null,"61c0ad3e",null));e["default"]=P.exports},c2e8:function(t,e,a){"use strict";var n=a("ce18"),o=a.n(n);o.a},ca61:function(t,e,a){"use strict";var n=a("2356"),o=a.n(n);o.a},ce18:function(t,e,a){}}]);